# React Native의 화면 전환
## 1. React Navigation 환경설정  
```bash
# 필수 패키지 설치
npx expo install @react-navigation/native react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context

# 네비게이션 타입별 추가 패키지
npx expo install @react-navigation/native-stack @react-navigation/bottom-tabs
```
- `NavigationContainer`로 앱 루트 컴포넌트 감싸기
```javascript
import { NavigationContainer } from '@react-navigation/native';

export default function App() {
  return (
    <NavigationContainer>
      {/* 네비게이션 구조 */}
    </NavigationContainer>
  );
}

```

---

## 2. 네비게이션 유형 비교  
### 스택 vs 탭 네비게이션
| 기능               | 스택 네비게이션                  | 탭 네비게이션                  |
|--------------------|----------------------------------|--------------------------------|
| 화면 구조          | 계층적 구조 (뒤로 가기 지원)     | 병렬 구조 (탭 간 전환)         |
| 사용 사례          | 상세 페이지 이동                 | 메인 메뉴 구현                 |
| 전환 애니메이션    | 수직 슬라이드                    | 페이드 인/아웃                 |
| 구현 코드          | `createNativeStackNavigator`     | `createBottomTabNavigator`     |

**실제 구현 예시**
```jsx
// 스택 네비게이션
const Stack = createNativeStackNavigator();
function HomeStack() {
  return (
    <Stack.Navigator>
      <Stack.Screen name="Home" component={HomeScreen} />
      <Stack.Screen name="Details" component={DetailsScreen} />
    </Stack.Navigator>
  );
}

// 탭 네비게이션
const Tab = createBottomTabNavigator();
function MyTabs() {
  return (
    <Tab.Navigator>
      <Tab.Screen name="Main" component={HomeStack} />
      <Tab.Screen name="Profile" component={ProfileScreen} />
    </Tab.Navigator>
  );
}

```

---

## 3. 화면 간 데이터 전달  
### route.params 활용 방식
```jsx
// 데이터 전송 화면
function AddTodoScreen({ navigation }) {
  const [text, setText] = useState('');
  
  const handleSubmit = () => {
    navigation.navigate('TodoList', { 
      newItem: { 
        id: Date.now(),
        text: text 
      } 
    });
  };
}

// 데이터 수신 화면
function TodoListScreen({ route }) {
  const [items, setItems] = useState([]);
  
  useEffect(() => {
    if (route.params?.newItem) {
      setItems(prev => [...prev, route.params.newItem]);
    }
  }, [route.params]);
}

```
## 4. **Todo List 실습** ✨
1. `navigation.navigate()`로 화면 전환 + 데이터 전달
2. `route.params`을 이용한 콜백 함수 전달
3. 최소한의 상태 관리 구현
4. 기본 컴포넌트만 사용한 UI
---

### 1. 기본 구조 설정
```javascript
// App.jsx
import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';

const Stack = createNativeStackNavigator();

export default function App() {
  return (
    <NavigationContainer>
      <Stack.Navigator>
        <Stack.Screen name="TodoList" component={TodoListScreen} />
        <Stack.Screen name="AddTodo" component={AddTodoScreen} />
      </Stack.Navigator>
    </NavigationContainer>
  );
}
```

---

### 2. 할일 목록 화면
```javascript
// TodoListScreen.jsx
import { useState } from 'react';
import { View, FlatList, Button, Text } from 'react-native';

export default function TodoListScreen({ navigation }) {
  const [todos, setTodos] = useState([]);

  const addTodo = (newTodo) => {
    setTodos([...todos, { id: Date.now(), text: newTodo }]);
  };

  return (
    <View style={{ flex: 1, padding: 20 }}>
      <Button 
        title="할일 추가" 
        onPress={() => navigation.navigate('AddTodo', { addTodo })} 
      />
      
      <FlatList
        data={todos}
        keyExtractor={(item) => item.id.toString()}
        renderItem={({ item }) => (
          <Text style={{ fontSize: 18, padding: 10 }}>
            {item.text}
          </Text>
        )}
      />
    </View>
  );
}
```

---

### 3. 할일 추가 화면
```javascript
// AddTodoScreen.jsx
import { useState } from 'react';
import { View, TextInput, Button } from 'react-native';

export default function AddTodoScreen({ route, navigation }) {
  const [text, setText] = useState('');
  const { addTodo } = route.params;

  const handleSubmit = () => {
    if(text.trim()) {
      addTodo(text.trim());
      navigation.goBack();
    }
  };

  return (
    <View style={{ padding: 20 }}>
      <TextInput
        placeholder="할일 입력"
        value={text}
        onChangeText={setText}
        style={{ 
          borderBottomWidth: 1, 
          padding: 10, 
          marginBottom: 20 
        }}
      />
      <Button title="추가" onPress={handleSubmit} />
    </View>
  );
}
```
---
## 5. 최적화 팁  
1. `React.memo`로 화면 컴포넌트 메모이제이션
2. 네비게이션 상태 초기화 시 `unmountOnBlur` 사용
3. Deep linking을 위한 경로 매핑 설정
4. Hermes 엔진 사용으로 성능 개선

